{% extends "base.html" %} {% block main %}
<div class="detail__container">
	<div class="detail__container--chart">
		<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
		<div class="detail__container--chart-body">
			<h2 class="covid__heading">{{ name }}</h2>
			<canvas
				class="covid__chart"
				id="myChart"
				height="300"
				width="300"
			></canvas>
		</div>

		<script>
			Chart.defaults.global.defaultFontFamily = "'Dosis',sans-serif";
			Chart.defaults.global.defaultFontSize = 18;
			Chart.defaults.global.defaultFontColor = "#f4d58d";
			Chart.defaults.global.animation.duration = 1500;
			Chart.defaults.global.animation.easing = "easeOutBounce";

			var ctx = document.getElementById("myChart").getContext("2d");
			var myChart = new Chart(ctx, {
				type: "bar",

				data: {

					labels: ["Total Cases", "Active", "Deaths", "Recovered"],
					datasets: [
						{
							data: [{{ confirmed }}, {{ active }}, {{ deaths }}, {{ recovered }}],
							backgroundColor: ["#355070", "#6f2dbd", "#d81159", "#06d6a0"],
							borderColor: [
								"rgba(255,255, 255, 0.4)",
								"rgba(255, 255, 255, 0.4)",
								"rgba(255,255,255, 0.4)",
								"rgba(255, 255, 255, 0.4)",
							],
							borderWidth: 2,
						},
					],
				},
				options: {
			    legend: { display: false },

					scales: {
						yAxes: [
							{
								ticks: {
									beginAtZero: true,
								},
							},
						],
					},
				},
			});
		</script>
	</div>

	<div class="detail__container--stats">
		<h1 class="summa">You selected {{ ctry }}</h1>
	</div>
</div>
{% endblock %}
